<!--コントローラファイルのインスタンス変数@post_imagesを変更したときに再利用しにくいので-->
<!--再利用をしやすくするために、インスタンス変数ではなくローカル変数を使う-->
<% post_images.each do |post_image| %>
<div>
  <%= link_to post_image_path(post_image.id) do %>
    <%= image_tag post_image.get_image %>
  <% end %>
  <%= image_tag post_image.get_image %>
  <p>投稿ユーザー画像：<%= image_tag post_image.user.get_profile_image(100, 100) %></p>
  <p>ショップ名：<%= post_image.shop_name %></p>
  <p>説明：<%= post_image.caption %></p>
  <!--このpost_image.user.nameは便利だね！post_imageモデルのuser_idの情報をもとにUserモデルからUserモデルのカラムを取り出してくれる-->
  <p>ユーザーネーム：<%= post_image.user.name %></p>
  <p><%= link_to "#{post_image.post_comments.count} コメント", post_image_path(post_image.id) %></p>
</div>
<% end %>